{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tyzox - {% block title %}Tu Tienda de Boxeo{% endblock %}</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="{% static 'tyzox/css/style.css' %}">
    {% block head_extra %}{% endblock %}
</head>
<body class="{% block body_class %}{% endblock %}">

    <!-- ================================== -->
    <!-- === BLOQUE DEL HEADER DINÁMICO === -->
    <!-- ================================== -->
    {% block header %}
    <header class="header" role="banner">
        <div class="nav-container">
            <a href="{% url 'index' %}" class="logo">TYZOX</a>
            <div class="search-container">
                <input type="text" class="search-bar" placeholder="Buscar productos..." id="searchInput" aria-label="Buscar">
                <button class="search-btn" onclick="performSearch()" aria-label="Buscar"><i class="fas fa-search"></i></button>
            </div>
            <nav class="nav-links" role="navigation">
                <a href="{% url 'index' %}#home" class="nav-link">Inicio</a>
                <a href="{% url 'index' %}#products" class="nav-link">Productos</a>
                {% if user.is_authenticated and user.is_superuser %}
                    <a href="{% url 'dashboard' %}" class="nav-link">Dashboard</a>
                {% endif %}
                {% if user.is_authenticated %}
                    <a href="#" class="nav-link cart-icon" onclick="openCartModal(event)">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="cart-count" id="cart-count-badge" style="display: none;">0</span>
                    </a>
                    <a href="{% url 'logout' %}" class="nav-link">Cerrar Sesión</a>
                {% else %}
                    <a href="{% url 'login_register' %}" class="nav-link">Iniciar Sesión</a>
                {% endif %}
            </nav>
            <button class="hamburger" aria-label="Toggle Menu" aria-expanded="false">
                <span class="hamburger-icon">☰</span>
            </button>
        </div>
    </header>
    {% endblock header %}

    {% if messages %}
    <!-- ... (tu bloque de mensajes sin cambios) ... -->
    {% endif %}

    <main role="main">
        {% block content %}{% endblock %}
    </main>

    {% block footer %}
    <!-- ... (tu bloque de footer sin cambios) ... -->
    {% endblock footer %}

    {% block scripts_extra %}{% endblock %}
    <script src="{% static 'tyzox/js/script.js' %}"></script>
</body>
</html>
